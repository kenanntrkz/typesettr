%% ═══════════════════════════════════════════════════════════
%% TYPESETTR — report-academic template
%% Style: Academic report (formal, deep numbering, small caps)
%% ═══════════════════════════════════════════════════════════

\documentclass[{{FONT_SIZE}},oneside]{report}

%% ── Encoding & Language ──────────────────────────────────
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[{{BABEL_LANG}}]{babel}

%% ── Font ─────────────────────────────────────────────────
{{FONT_PACKAGE}}

%% ── Page Geometry ────────────────────────────────────────
\usepackage[{{PAPER_SIZE}},top={{MARGIN_TOP}},bottom={{MARGIN_BOTTOM}},left={{MARGIN_LEFT}},right={{MARGIN_RIGHT}}]{geometry}

%% ── Line Spacing ─────────────────────────────────────────
\usepackage{setspace}
{{LINE_SPACING_CMD}}

%% ── Microtypography ─────────────────────────────────────
\usepackage{microtype}

%% ── Headers & Footers (formal academic) ─────────────────
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\textsc{\leftmark}}
\fancyhead[R]{\small\textsc{\rightmark}}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

\fancypagestyle{plain}{%
  \fancyhf{}%
  \fancyfoot[C]{\thepage}%
  \renewcommand{\headrulewidth}{0pt}%
}

%% ── Chapter Title Style (Academic: numbered, formal) ────
\usepackage{titlesec}
\titleformat{\chapter}[hang]
  {\normalfont\LARGE\bfseries}
  {\thechapter.}
  {1em}
  {}
\titlespacing*{\chapter}{0pt}{30pt}{20pt}

%% Deep numbering: 1, 1.1, 1.1.1, 1.1.1.1
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3}

\titleformat{\section}
  {\normalfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}[runin]
  {\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}[.]

%% ── Table of Contents (detailed) ────────────────────────
\usepackage{tocloft}
\renewcommand{\cftchapfont}{\bfseries}
\renewcommand{\cftsecfont}{\normalfont}
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
\setlength{\cftbeforechapskip}{6pt}
\setlength{\cftbeforesecskip}{2pt}
\setlength{\cftbeforesubsecskip}{1pt}

%% ── Graphics & Floats ────────────────────────────────────
\usepackage{graphicx}
\usepackage{float}
\usepackage[font=small,labelfont=bf,justification=centering]{caption}
\usepackage{subcaption}
\graphicspath{{images/}}

%% ── Tables ───────────────────────────────────────────────
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{tabularx}

%% ── Mathematics (academic often needs math) ─────────────
\usepackage{amsmath}
\usepackage{amssymb}

%% ── Lists ────────────────────────────────────────────────
\usepackage{enumitem}
\setlist{nosep,leftmargin=2em}

%% ── Quotes ───────────────────────────────────────────────
\usepackage{csquotes}

%% ── Footnotes ────────────────────────────────────────────
\usepackage[bottom,hang]{footmisc}
\setlength{\footnotemargin}{0.8em}

%% ── Code Listings (academic may include code) ───────────
\usepackage{listings}
\lstset{
  basicstyle=\small\ttfamily,
  breaklines=true,
  frame=single,
  numbers=left,
  numberstyle=\tiny,
  tabsize=2
}

%% ── Index (optional) ─────────────────────────────────────
{{INDEX_SETUP}}

%% ── Bibliography (optional) ──────────────────────────────
{{BIBLIOGRAPHY_SETUP}}

%% ── PDF & Hyperlinks (LAST) ─────────────────────────────
\usepackage[
  colorlinks=true,
  linkcolor=black,
  citecolor=black,
  urlcolor=blue!70!black,
  bookmarks=true,
  bookmarksnumbered=true,
  pdfstartview=FitH
]{hyperref}
\hypersetup{
  pdftitle={{{PDF_TITLE}}},
  pdfauthor={{{PDF_AUTHOR}}}
}
\usepackage{bookmark}

%% ── Title Data ───────────────────────────────────────────
\title{{{BOOK_TITLE}}}
\author{{{BOOK_AUTHOR}}}
\date{{{BOOK_DATE}}}

%% ═════════════════════════════════════════════════════════
%% END OF PREAMBLE
%% ═════════════════════════════════════════════════════════
